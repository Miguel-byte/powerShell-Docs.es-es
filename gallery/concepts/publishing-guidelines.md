---
ms.date: 06/12/2017
contributor: JKeithB, SydneyhSmith
keywords: gallery,powershell,cmdlet,psgallery
description: Instrucciones para publicadores
title: Instrucciones y procedimientos recomendados para publicar en la Galería de PowerShell
ms.openlocfilehash: b470dbd81e79d2a6a228b8c89f85e57c03803ede
ms.sourcegitcommit: 5a004064f33acc0145ccd414535763e95f998c89
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 08/23/2019
ms.locfileid: "69986512"
---
# <a name="powershellgallery-publishing-guidelines-and-best-practices"></a><span data-ttu-id="66df8-104">Instrucciones y procedimientos recomendados para publicar en PowerShellGallery</span><span class="sxs-lookup"><span data-stu-id="66df8-104">PowerShellGallery Publishing Guidelines and Best Practices</span></span>

<span data-ttu-id="66df8-105">En este tema se describen los pasos recomendados que los equipos de Microsoft usan para garantizar que los paquetes que se publiquen en la Galería de PowerShell se adopten ampliamente y proporcionen gran valor a los usuarios, en virtud de cómo la Galería de PowerShell administra los datos de manifiesto y según los comentarios de gran cantidad de usuarios de la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-105">This topic describes recommended steps used by Microsoft teams to ensure the packages published to the PowerShell Gallery will be widely adopted and provide high value to users, based on how the PowerShell Gallery handles manifest data and on feedback from large numbers of PowerShell Gallery users.</span></span>
<span data-ttu-id="66df8-106">Los paquetes que se publican según estas instrucciones tendrán más probabilidades de atraer a más usuarios que los instalen y confíen en ellos.</span><span class="sxs-lookup"><span data-stu-id="66df8-106">Packages that are published following these guidelines will be more likely to be installed, trusted, and attract more users.</span></span>

<span data-ttu-id="66df8-107">A continuación, se incluyen instrucciones sobre cómo debe ser un paquete de la Galería de PowerShell, cuál es la configuración de manifiesto opcional más importante, cómo mejorar el código con los comentarios de los revisores iniciales y [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer), cómo crear la versión del módulo, la documentación, pruebas y ejemplos de cómo usar el contenido que compartió.</span><span class="sxs-lookup"><span data-stu-id="66df8-107">Included below are guidelines for what makes a good PowerShell Gallery package, what optional Manifest settings are most important, improving your code with feedback from initial reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer), versioning your module, documentation, tests & examples for how to use what you have shared.</span></span>
<span data-ttu-id="66df8-108">Gran parte de esta documentación sigue las instrucciones para la publicación de los [módulos de recursos DSC de alta calidad](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span><span class="sxs-lookup"><span data-stu-id="66df8-108">Much of this documentation follows the guidelines for publishing [High Quality DSC Resource Modules](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span></span>

<span data-ttu-id="66df8-109">Si desea conocer los mecanismos para publicar un paquete en la Galería de PowerShell, consulte [Crear y publicar un paquete](/powershell/gallery/how-to/publishing-packages/publishing-a-package).</span><span class="sxs-lookup"><span data-stu-id="66df8-109">For the mechanics of publishing a package to the PowerShell Gallery, see [Creating and Publishing a Package](/powershell/gallery/how-to/publishing-packages/publishing-a-package).</span></span>

<span data-ttu-id="66df8-110">Se aceptan y valoran comentarios sobre estas instrucciones.</span><span class="sxs-lookup"><span data-stu-id="66df8-110">Feedback on these guidelines is welcomed.</span></span> <span data-ttu-id="66df8-111">Si tiene algún comentario, abra los temas que aparecen en el [repositorio de documentación de GitHub](https://github.com/powershell/powershell-docs/issues).</span><span class="sxs-lookup"><span data-stu-id="66df8-111">If you do have feedback, please open issues in our [Github documentation repository](https://github.com/powershell/powershell-docs/issues).</span></span>

## <a name="best-practices-for-publishing-packages"></a><span data-ttu-id="66df8-112">Procedimientos recomendados para los paquetes publicados</span><span class="sxs-lookup"><span data-stu-id="66df8-112">Best practices for publishing packages</span></span>

<span data-ttu-id="66df8-113">Los procedimientos recomendados siguientes son importantes para los usuarios de los elementos de la Galería de PowerShell y están ordenados según prioridad nominal.</span><span class="sxs-lookup"><span data-stu-id="66df8-113">The following best practices are what the users of PowerShell Gallery items say is important, and are listed in nominal priority order.</span></span>
<span data-ttu-id="66df8-114">Es mucho más probable que otros usuarios descarguen y adopten los paquetes que siguen estas instrucciones.</span><span class="sxs-lookup"><span data-stu-id="66df8-114">Packages that follow these guidelines are far more likely to be downloaded and adopted by others.</span></span>

- <span data-ttu-id="66df8-115">Usar PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="66df8-115">Use PSScriptAnalyzer</span></span>
- <span data-ttu-id="66df8-116">Incluir documentación y ejemplos</span><span class="sxs-lookup"><span data-stu-id="66df8-116">Include documentation and examples</span></span>
- <span data-ttu-id="66df8-117">Responder a los comentarios</span><span class="sxs-lookup"><span data-stu-id="66df8-117">Be responsive to feedback</span></span>
- <span data-ttu-id="66df8-118">Proporcionar módulos, no scripts</span><span class="sxs-lookup"><span data-stu-id="66df8-118">Provide modules rather than scripts</span></span>
- <span data-ttu-id="66df8-119">Proporcionar vínculos a un sitio de proyecto</span><span class="sxs-lookup"><span data-stu-id="66df8-119">Provide links to a project site</span></span>
- <span data-ttu-id="66df8-120">Etiquetar el paquete con las plataformas y PSEdition(s) compatibles</span><span class="sxs-lookup"><span data-stu-id="66df8-120">Tag your package with the compatible PSEdition(s) and platforms</span></span>
- <span data-ttu-id="66df8-121">Incluir pruebas en los módulos</span><span class="sxs-lookup"><span data-stu-id="66df8-121">Include tests with your modules</span></span>
- <span data-ttu-id="66df8-122">Incluir los términos de licencia o un vínculo a ellos</span><span class="sxs-lookup"><span data-stu-id="66df8-122">Include and/or link to license terms</span></span>
- <span data-ttu-id="66df8-123">Firmar el código</span><span class="sxs-lookup"><span data-stu-id="66df8-123">Sign your code</span></span>
- <span data-ttu-id="66df8-124">Seguir las instrucciones de [SemVer](http://semver.org/) para el control de versiones</span><span class="sxs-lookup"><span data-stu-id="66df8-124">Follow [SemVer](http://semver.org/) guidelines for versioning</span></span>
- <span data-ttu-id="66df8-125">Usar etiquetas comunes, tal como se documenta en Etiquetas comunes de la Galería de PowerShell</span><span class="sxs-lookup"><span data-stu-id="66df8-125">Use common tags, as documented in Common PowerShell Gallery tags</span></span>
- <span data-ttu-id="66df8-126">Publicación de prueba mediante un repositorio local</span><span class="sxs-lookup"><span data-stu-id="66df8-126">Test publishing using a local repository</span></span>
- <span data-ttu-id="66df8-127">Usar PowerShellGet para publicar</span><span class="sxs-lookup"><span data-stu-id="66df8-127">Use PowerShellGet to publish</span></span>

<span data-ttu-id="66df8-128">Cada uno de estos puntos se analiza brevemente en las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="66df8-128">Each of these is covered briefly in the sections below.</span></span>

## <a name="use-psscriptanalyzer"></a><span data-ttu-id="66df8-129">Usar PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="66df8-129">Use PSScriptAnalyzer</span></span>

<span data-ttu-id="66df8-130">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) es una herramienta de análisis de código estático gratis que funciona en el código de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-130">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) is a free static code analysis tool that works on PowerShell code.</span></span>
<span data-ttu-id="66df8-131">PSScriptAnalyzer identificará los problemas más comunes que se encuentran en el código de PowerShell y, por lo general, una recomendación para corregirlos.</span><span class="sxs-lookup"><span data-stu-id="66df8-131">PSScriptAnalyzer will identify the most common issues seen in PowerShell code, and often a recommendation for how to fix the issue.</span></span>
<span data-ttu-id="66df8-132">Se trata de una herramienta fácil de usar, que clasifica los problemas como Errores (graves, que se deben solucionar), Advertencia (se debe revisar y solucionar) e Información (vale la pena revisarlo para cumplir con los procedimientos recomendados).</span><span class="sxs-lookup"><span data-stu-id="66df8-132">The tool is easy to use, and categorizes the issues as Errors (severe, must be addressed), Warning (need to be reviewed & should be addressed), and Information (worth checking out for best practices).</span></span>
<span data-ttu-id="66df8-133">Todos los paquetes publicados en la Galería de PowerShell se examinarán con PSScriptAnalyzer y todos los errores se informarán al propietario, quien deberá solucionarlos.</span><span class="sxs-lookup"><span data-stu-id="66df8-133">All packages published to the PowerShell Gallery will be scanned using PSScriptAnalyzer, and any errors will be reported back to the owner and must be addressed.</span></span>

<span data-ttu-id="66df8-134">El procedimiento recomendado es ejecutar `Invoke-ScriptAnalyzer` con Advertencia `-Recurse` y `-Severity`.</span><span class="sxs-lookup"><span data-stu-id="66df8-134">The best practice is to run `Invoke-ScriptAnalyzer` with `-Recurse` and `-Severity` Warning.</span></span>

<span data-ttu-id="66df8-135">Revise los resultados y asegúrese de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="66df8-135">Review the results, and ensure that:</span></span>

- <span data-ttu-id="66df8-136">Se corrigen todos los errores o se solucionan en la documentación</span><span class="sxs-lookup"><span data-stu-id="66df8-136">All Errors are corrected or addressed in your documentation</span></span>
- <span data-ttu-id="66df8-137">Se revisan todas las advertencias y se solucionan donde corresponda</span><span class="sxs-lookup"><span data-stu-id="66df8-137">All Warnings are reviewed, and addressed where applicable</span></span>

<span data-ttu-id="66df8-138">Se recomienda que los usuarios que adquieren paquetes en la Galería de PowerShell ejecuten PSScriptAnalyzer y evalúen todos los errores y las advertencias.</span><span class="sxs-lookup"><span data-stu-id="66df8-138">Users who acquire packages from the PowerShell Gallery are strongly encouraged to run PSScriptAnalyzer and evaluate all Errors and Warnings.</span></span>
<span data-ttu-id="66df8-139">Es muy probable que los usuarios se pongan en contacto con los propietarios de los paquetes si ven que PSScriptAnalyzer informa algún error.</span><span class="sxs-lookup"><span data-stu-id="66df8-139">Users are very likely to contact package owners if they see that there is an error reported by PSScriptAnalyzer.</span></span>
<span data-ttu-id="66df8-140">Si hay una razón de peso para que el paquete conserve el código que se marca como error, agregue dicha información a la documentación para que no tenga que responder la misma pregunta muchas veces.</span><span class="sxs-lookup"><span data-stu-id="66df8-140">If there is a compelling reason for your package to keep code that is flagged as an error, add that information to your documentation to avoid having to answer the same question many times.</span></span>

## <a name="include-documentation-and-examples"></a><span data-ttu-id="66df8-141">Incluir documentación y ejemplos</span><span class="sxs-lookup"><span data-stu-id="66df8-141">Include documentation and examples</span></span>

<span data-ttu-id="66df8-142">La documentación y los ejemplos son la mejor manera de asegurarse de que los usuarios puedan aprovechar todo código compartido.</span><span class="sxs-lookup"><span data-stu-id="66df8-142">Documentation and examples are the best way to ensure users can take advantage of any shared code.</span></span>

<span data-ttu-id="66df8-143">La documentación es el aspecto más útil que se debe incluir en los paquetes que se publican en la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-143">Documentation is the most helpful thing to include in packages published to the PowerShell Gallery.</span></span>
<span data-ttu-id="66df8-144">Por lo general, los usuarios omitirán los paquetes que no incluyan documentación, dado que la alternativa es leer el código para saber cuál es el paquete y cómo usarlo.</span><span class="sxs-lookup"><span data-stu-id="66df8-144">Users will generally bypass packages without documentation, as the alternative is to read the code to understand what the package is and how to use it.</span></span>
<span data-ttu-id="66df8-145">Hay varios artículos disponibles sobre cómo proporcionar documentación con los paquetes de PowerShell, entre los que se incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="66df8-145">There are several articles available about how to provide documentation with PowerShell packages, including:</span></span>

- <span data-ttu-id="66df8-146">Instrucciones sobre cómo prestar ayuda, en el artículo sobre [cómo escribir ayuda para cmdlet](https://go.microsoft.com/fwlink/?LinkID=123415)</span><span class="sxs-lookup"><span data-stu-id="66df8-146">Guidelines for providing help are in [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415)</span></span>
- <span data-ttu-id="66df8-147">Cómo crear ayuda para cmdlet, que es el mejor enfoque para cualquier script, función o cmdlet de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-147">Creating cmdlet help, which is the best approach for any PowerShell script, function, or cmdlet.</span></span>
  <span data-ttu-id="66df8-148">Para obtener información sobre cómo crear ayuda para cmdlet, comience con [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415) (Cómo escribir ayuda para cmdlet).</span><span class="sxs-lookup"><span data-stu-id="66df8-148">For information about how to create cmdlet help, start with [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415).</span></span>
  <span data-ttu-id="66df8-149">Para agregar ayuda dentro de un script, consulte el artículo sobre [la ayuda basada en comentarios](/powershell/module/microsoft.powershell.core/about/about_comment_based_help).</span><span class="sxs-lookup"><span data-stu-id="66df8-149">To add help within a script, see [About Comment Based Help](/powershell/module/microsoft.powershell.core/about/about_comment_based_help).</span></span>
- <span data-ttu-id="66df8-150">Muchos módulos también incluyen documentación en formato de texto, como archivos Markdown.</span><span class="sxs-lookup"><span data-stu-id="66df8-150">Many modules also include documentation in text format, such as MarkDown files.</span></span>
  <span data-ttu-id="66df8-151">Esto puede resultar especialmente útil cuando hay un sitio de proyecto en GitHub, donde el formato Markdown se usa mucho.</span><span class="sxs-lookup"><span data-stu-id="66df8-151">This can be particularly helpful when there is a project site in Github, where Markdown is a heavily used format.</span></span>
  <span data-ttu-id="66df8-152">El procedimiento recomendado es usar [Markdown característico de GitHub](https://help.github.com/categories/writing-on-github/)</span><span class="sxs-lookup"><span data-stu-id="66df8-152">The best practice is to use [Github-flavored Markdown](https://help.github.com/categories/writing-on-github/)</span></span>

<span data-ttu-id="66df8-153">Los ejemplos muestran a los usuarios cómo se pretende usar el paquete.</span><span class="sxs-lookup"><span data-stu-id="66df8-153">Examples show users how the package is intended to be used.</span></span>
<span data-ttu-id="66df8-154">Muchos desarrolladores dirían que primero ven los ejemplos antes que la documentación para saber cómo usar el contenido.</span><span class="sxs-lookup"><span data-stu-id="66df8-154">Many developers will say that they look at examples before documentation to understand how to use something.</span></span>
<span data-ttu-id="66df8-155">El mejor tipo de ejemplo muestra el uso básico, además de un caso de uso realista simulado, y un código bien comentado.</span><span class="sxs-lookup"><span data-stu-id="66df8-155">The best type of examples show basic use, plus a simulated realistic use case, and the code is well-commented.</span></span>
<span data-ttu-id="66df8-156">Los ejemplos de los módulos publicados en la Galería de PowerShell deben estar en una carpeta Examples en la raíz del módulo.</span><span class="sxs-lookup"><span data-stu-id="66df8-156">Examples for modules published to the PowerShell Gallery should be in an Examples folder under the module root.</span></span>

<span data-ttu-id="66df8-157">Encontrará un buen patrón de ejemplos en el [módulo PSDscResource](https://www.powershellgallery.com/packages/PSDscResources), en la carpeta Examples\RegistryResource.</span><span class="sxs-lookup"><span data-stu-id="66df8-157">A good pattern for examples can be found in the [PSDscResource module](https://www.powershellgallery.com/packages/PSDscResources) under the Examples\RegistryResource folder.</span></span>
<span data-ttu-id="66df8-158">Hay cuatro casos de uso de ejemplo con una breve descripción en la parte superior de cada archivo que documenta lo que se demuestra.</span><span class="sxs-lookup"><span data-stu-id="66df8-158">There are four sample use cases with a brief description at the top of each file that documents what is being demonstrated.</span></span>

## <a name="manage-dependencies"></a><span data-ttu-id="66df8-159">Administrar dependencias</span><span class="sxs-lookup"><span data-stu-id="66df8-159">Manage Dependencies</span></span>

<span data-ttu-id="66df8-160">Es importante especificar los módulos de los que depende el suyo en el Manifiesto de módulo.</span><span class="sxs-lookup"><span data-stu-id="66df8-160">It is important to specify modules that your module is dependent on in the Module Manifest.</span></span>
<span data-ttu-id="66df8-161">Esto permite al usuario final no tener que preocuparse de instalar las versiones adecuadas de los módulos de los que depende el suyo.</span><span class="sxs-lookup"><span data-stu-id="66df8-161">This allows the end user to not have to worry about installing the proper versions of modules that yours take a dependency on.</span></span>
<span data-ttu-id="66df8-162">Para especificar los módulos dependientes, debe usar el campo de módulo requerido en el manifiesto de módulo.</span><span class="sxs-lookup"><span data-stu-id="66df8-162">To specify dependent modules you should use the required module field in the module manifest.</span></span>
<span data-ttu-id="66df8-163">De este modo, los módulos mostrados se cargarán en el entorno global antes de importar su módulo a menos que ya se hayan cargado</span><span class="sxs-lookup"><span data-stu-id="66df8-163">This will load any listed modules into the global environment prior to importing your module unless they have already been loaded.</span></span> <span data-ttu-id="66df8-164">(por ejemplo, es posible que un módulo diferente ya haya cargado algunos módulos).</span><span class="sxs-lookup"><span data-stu-id="66df8-164">(For example, some modules may already be loaded by a different module.).</span></span>
<span data-ttu-id="66df8-165">También es posible indicar una versión específica que cargar mediante el campo RequiredVersion en lugar del campo ModuleVersion.</span><span class="sxs-lookup"><span data-stu-id="66df8-165">It is also possible to specify a specific version to load using the RequiredVersion field rather than the ModuleVersion field.</span></span> <span data-ttu-id="66df8-166">Al usar ModuleVersion, se cargará la versión más reciente disponible con un mínimo de la versión especificada.</span><span class="sxs-lookup"><span data-stu-id="66df8-166">When using ModuleVersion it will load the newest version available with a minimum of the version specified.</span></span>
<span data-ttu-id="66df8-167">Cuando no se usa el campo RequiredVersion para indicar una versión específica, es importante supervisar las actualizaciones de versión en el módulo requerido.</span><span class="sxs-lookup"><span data-stu-id="66df8-167">When not using the RequiredVersion field to specify a specific version it is important to monitor version updates to the required module.</span></span>
<span data-ttu-id="66df8-168">Es especialmente crucial tener en cuenta los cambios importantes que podrían afectar a la experiencia del usuario con su módulo.</span><span class="sxs-lookup"><span data-stu-id="66df8-168">It is especially important to be aware of any breaking changes that could effect the user experience with your module.</span></span>

```powershell
Example: RequiredModules = @(@{ModuleName="myDependentModule"; ModuleVersion="2.0"; Guid="cfc45206-1e49-459d-a8ad-5b571ef94857"})

Example: RequiredModules = @(@{ModuleName="myDependentModule"; RequiredVersion="1.5"; Guid="cfc45206-1e49-459d-a8ad-5b571ef94857"})
```

## <a name="respond-to-feedback"></a><span data-ttu-id="66df8-169">Responder a los comentarios</span><span class="sxs-lookup"><span data-stu-id="66df8-169">Respond to feedback</span></span>

<span data-ttu-id="66df8-170">La comunidad valora mucho a los propietarios de paquetes que responden de forma adecuada a los comentarios.</span><span class="sxs-lookup"><span data-stu-id="66df8-170">Package owners who respond properly to feedback are highly valued by the community.</span></span>
<span data-ttu-id="66df8-171">Es importante responder a los usuarios que proporcionan comentarios constructivos, dado que esto significa que el paquete les interesa lo suficiente como para tratar de ayudar a mejorarlo.</span><span class="sxs-lookup"><span data-stu-id="66df8-171">Users who provide constructive feedback are important to respond to, as they are interested enough in the package to try to help improve it.</span></span>

<span data-ttu-id="66df8-172">Existen dos métodos de comentarios disponibles en la Galería de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="66df8-172">There are two feedback methods available in the PowerShell Gallery:</span></span>

- <span data-ttu-id="66df8-173">Ponerse en contacto con el propietario: esta opción permite que un usuario envíe un correo electrónico al propietario de un paquete.</span><span class="sxs-lookup"><span data-stu-id="66df8-173">Contact Owner: This allows a user to send an email to the package owner(s).</span></span> <span data-ttu-id="66df8-174">Como propietario de un paquete, es importante supervisar la dirección de correo electrónico que se usa con los paquetes de la Galería de PowerShell y responder a los problemas que surgen.</span><span class="sxs-lookup"><span data-stu-id="66df8-174">As an package owner, is important to monitor the email address used with the PowerShell Gallery packages, and respond to issues that are raised.</span></span> <span data-ttu-id="66df8-175">La desventaja de este método es que solo el usuario y el propietario verán la comunicación, por lo que el propietario podría tener que responder la misma pregunta varias veces.</span><span class="sxs-lookup"><span data-stu-id="66df8-175">The one disadvantage to this method is that only the user and owner will ever see the communication, so the owner may have to answer the same question many times.</span></span>
- <span data-ttu-id="66df8-176">Comentarios: en la parte inferior de la página de un paquete aparece el campo Comentario.</span><span class="sxs-lookup"><span data-stu-id="66df8-176">Comments: At the bottom of the package page is a Comment field.</span></span>
  <span data-ttu-id="66df8-177">La ventaja de este sistema es que los demás usuarios podrán ver los comentarios y las respuestas, lo que disminuye la cantidad de veces que se debe responder una misma pregunta.</span><span class="sxs-lookup"><span data-stu-id="66df8-177">The advantage to this system is that other users can see the comments and responses, which reduces the number of times any single question must be answered.</span></span>
  <span data-ttu-id="66df8-178">Como propietario de un paquete, se recomienda que siga los comentarios que se han hecho para cada paquete.</span><span class="sxs-lookup"><span data-stu-id="66df8-178">As a package owner, it is strongly recommended that you Follow the comments made for each package.</span></span>
<span data-ttu-id="66df8-179">Consulte [Envío de comentarios a través de medios sociales o comentarios](../how-to/working-with-packages/social-media-feedback.md) para conocer detalles sobre cómo hacerlo.</span><span class="sxs-lookup"><span data-stu-id="66df8-179">See [Providing Feedback via Social Media or Comments](../how-to/working-with-packages/social-media-feedback.md) for details on how to do that.</span></span>

<span data-ttu-id="66df8-180">La comunidad valora a los propietarios que responden de forma constructiva a los comentarios.</span><span class="sxs-lookup"><span data-stu-id="66df8-180">Owners who respond to feedback constructively are appreciated by the community.</span></span>
<span data-ttu-id="66df8-181">Use la oportunidad que ofrece el informe para solicitar más información si la necesita, proporcione una solución alternativa o identifique si una actualización corrige un problema.</span><span class="sxs-lookup"><span data-stu-id="66df8-181">Use the opportunity in the report to request more information if needed, provide a workaround, or identify if an update fixes a problem.</span></span>

<span data-ttu-id="66df8-182">Si en cualquiera de estos canales de comunicación se observa un comportamiento inadecuado, use la característica Notificar abuso de la Galería de PowerShell para ponerse en contacto con los administradores de la galería.</span><span class="sxs-lookup"><span data-stu-id="66df8-182">If there is inappropriate behavior observed from either of these communication channels, use the Report Abuse feature of the PowerShell Gallery to contact the Gallery Administrators.</span></span>

## <a name="modules-versus-scripts"></a><span data-ttu-id="66df8-183">Comparación entre módulos y scripts</span><span class="sxs-lookup"><span data-stu-id="66df8-183">Modules Versus Scripts</span></span>

<span data-ttu-id="66df8-184">El uso compartido de un script con otros usuarios es genial y proporciona a los demás usuarios ejemplos de cómo solucionar problemas que puedan tener.</span><span class="sxs-lookup"><span data-stu-id="66df8-184">Sharing a script with other users is great, and provides others with examples of how to solve problems they may have.</span></span>
<span data-ttu-id="66df8-185">El problema es que los scripts de la Galería de PowerShell son archivos únicos sin documentación, ejemplos y pruebas por separado.</span><span class="sxs-lookup"><span data-stu-id="66df8-185">The issue is that scripts in the PowerShell Gallery are single files without separate documentation, examples, and tests.</span></span>

<span data-ttu-id="66df8-186">Los módulos de PowerShell tienen una estructura de carpetas que permite incluir varias carpetas y archivos en el paquete.</span><span class="sxs-lookup"><span data-stu-id="66df8-186">PowerShell Modules have a folder structure that allows multiple folders and files to be included with the package.</span></span>
<span data-ttu-id="66df8-187">La estructura del módulo permite incluir los otros paquetes que indicamos como procedimientos recomendados: ayuda de cmdlet, documentación, ejemplos y pruebas.</span><span class="sxs-lookup"><span data-stu-id="66df8-187">The module structure enables including the other packages we list as best practices: cmdlet help, documentation, examples, and tests.</span></span>
<span data-ttu-id="66df8-188">La principal desventaja es que un script dentro de un módulo se debe exponer y usar como función.</span><span class="sxs-lookup"><span data-stu-id="66df8-188">The biggest disadvantage is that a script inside a module must be exposed and used as a function.</span></span>
<span data-ttu-id="66df8-189">Para información sobre cómo crear un módulo, consulte [Escribir un módulo de Windows PowerShell](http://go.microsoft.com/fwlink/?LinkId=144916).</span><span class="sxs-lookup"><span data-stu-id="66df8-189">For information on how to create a module, see [Writing a Windows PowerShell Module](http://go.microsoft.com/fwlink/?LinkId=144916).</span></span>

<span data-ttu-id="66df8-190">Hay situaciones en las que un script brinda una mejor experiencia para el usuario, especialmente con configuraciones de DSC.</span><span class="sxs-lookup"><span data-stu-id="66df8-190">There are situations where a script provides a better experience for the user, particularly with DSC configurations.</span></span>
<span data-ttu-id="66df8-191">El procedimiento recomendado para las configuraciones de DSC es publicar la configuración como script acompañado de un módulo que contiene los documentos, los ejemplos y las pruebas.</span><span class="sxs-lookup"><span data-stu-id="66df8-191">The best practice for DSC configurations is to publish the configuration as a script with an accompanying module that contains the docs, examples, and tests.</span></span>
<span data-ttu-id="66df8-192">El script muestra el módulo que lo acompaña usando RequiredModules = @(nombre del módulo).</span><span class="sxs-lookup"><span data-stu-id="66df8-192">The script lists the accompanying module using RequiredModules = @(Name of the Module).</span></span>
<span data-ttu-id="66df8-193">Este enfoque se puede usar con cualquier script.</span><span class="sxs-lookup"><span data-stu-id="66df8-193">This approach can be used with any script.</span></span>

<span data-ttu-id="66df8-194">Los scripts independientes que siguen los otros procedimientos recomendados proporcionan valor real a los demás usuarios.</span><span class="sxs-lookup"><span data-stu-id="66df8-194">Standalone scripts that follow the other best practices provide real value to other users.</span></span>
<span data-ttu-id="66df8-195">Es muy recomendable proporcionar documentación basada en los comentarios y un vínculo a un sitio de proyecto cuando se publica un script en la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-195">Providing comment-based documentation and a link to a Project Site are highly recommended when publishing a script to the PowerShell Gallery.</span></span>

## <a name="provide-a-link-to-a-project-site"></a><span data-ttu-id="66df8-196">Proporcionar un vínculo a un sitio de proyecto</span><span class="sxs-lookup"><span data-stu-id="66df8-196">Provide a link to a project site</span></span>

<span data-ttu-id="66df8-197">Un sitio de proyecto es donde un publicador puede interactuar directamente con los usuarios de sus paquetes de la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-197">A Project Site is where a publisher can interact directly with the users of their PowerShell Gallery packages.</span></span>
<span data-ttu-id="66df8-198">Los usuarios prefieren los paquetes que ofrecen esta opción, porque les permite obtener información sobre el paquete con más facilidad.</span><span class="sxs-lookup"><span data-stu-id="66df8-198">Users prefer packages that provide this, as it allows them to get information about the package more easily.</span></span>
<span data-ttu-id="66df8-199">Muchos de los paquetes que se encuentran en la Galería de PowerShell se desarrollan en GitHub, mientras que otros los proporcionan organizaciones con una presencia web dedicada.</span><span class="sxs-lookup"><span data-stu-id="66df8-199">Many packages in the PowerShell Gallery are developed in GitHub, others are provided by organizations with a dedicated web presence.</span></span>
<span data-ttu-id="66df8-200">Cada una de estas se pueden considerar como un sitio de proyecto.</span><span class="sxs-lookup"><span data-stu-id="66df8-200">Each of these can be considered a project site.</span></span>

<span data-ttu-id="66df8-201">Para agregar un vínculo, se incluye un elemento ProjectURI en la sección PSData del manifiesto, de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="66df8-201">Adding a link is done by including ProjectURI in the PSData section of the manifest as follows:</span></span>

        # A URL to the main website for this project.
        ProjectUri = 'https://github.com/powershell/powershell'

<span data-ttu-id="66df8-202">Si se proporciona ProjectURI, la Galería de PowerShell incluirá un vínculo al sitio de proyecto en el lado izquierdo de la página del paquete.</span><span class="sxs-lookup"><span data-stu-id="66df8-202">When a ProjectURI is provided, the PowerShell Gallery will include a link to the Project Site on the left side of the package page.</span></span>

## <a name="tag-your-package-with-the-compatible-pseditions-and-platforms"></a><span data-ttu-id="66df8-203">Etiquetar el paquete con las plataformas y PSEdition(s) compatibles</span><span class="sxs-lookup"><span data-stu-id="66df8-203">Tag your package with the compatible PSEdition(s) and platforms</span></span>

<span data-ttu-id="66df8-204">Use las etiquetas siguientes para mostrar a los usuarios cuáles son los paquetes que funcionarán bien con su entorno:</span><span class="sxs-lookup"><span data-stu-id="66df8-204">Use the following tags to demonstrate to users which packages will work well with their environment:</span></span>

- <span data-ttu-id="66df8-205">PSEdition_Desktop: Paquetes compatibles con Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="66df8-205">PSEdition_Desktop : Packages that are compatible with Windows PowerShell</span></span>
- <span data-ttu-id="66df8-206">PSEdition_Core: Paquetes compatibles con PowerShell Core</span><span class="sxs-lookup"><span data-stu-id="66df8-206">PSEdition_Core : Packages that are compatible with PowerShell Core</span></span>
- <span data-ttu-id="66df8-207">Windows: Paquetes compatibles con el sistema operativo Windows</span><span class="sxs-lookup"><span data-stu-id="66df8-207">Windows : Packages that are compatible with the Windows Operating System</span></span>
- <span data-ttu-id="66df8-208">Linux: Paquetes compatibles con el sistema operativo Linux</span><span class="sxs-lookup"><span data-stu-id="66df8-208">Linux : Packages that are compatible with Linux Operating Systems</span></span>
- <span data-ttu-id="66df8-209">MacOS: Paquetes compatibles con el sistema operativo Mac</span><span class="sxs-lookup"><span data-stu-id="66df8-209">MacOS : Packages that are compatible with the Mac Operating System</span></span>

<span data-ttu-id="66df8-210">Si marca el paquete con las plataformas compatibles, se incluirá en los filtros de búsqueda de la galería en el panel de la izquierda de los resultados de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="66df8-210">By tagging your package with the compatible platform(s) it will be included in the Gallery search filters on the left pane of the search results.</span></span> <span data-ttu-id="66df8-211">Si hospeda el paquete en GitHub, cuando lo marca, también puede aprovechar [los escudos de compatibilidad de la Galería de PowerShell](https://img.shields.io/powershellgallery/p/:packageName.svg) 
![el escudo de compatibilidad](https://img.shields.io/powershellgallery/p/CosmosDB.svg).</span><span class="sxs-lookup"><span data-stu-id="66df8-211">If you host your package on GitHub, when you tag your package, you can also take advantage of our [PowerShell Gallery compability shields](https://img.shields.io/powershellgallery/p/:packageName.svg) 
![compatibility shield](https://img.shields.io/powershellgallery/p/CosmosDB.svg).</span></span>  

## <a name="include-tests"></a><span data-ttu-id="66df8-212">Incluir pruebas</span><span class="sxs-lookup"><span data-stu-id="66df8-212">Include tests</span></span>

<span data-ttu-id="66df8-213">Incluir pruebas con código abierto es importante para los usuarios, porque les brinda garantías sobre lo que se valida y proporciona información sobre cómo funciona el código.</span><span class="sxs-lookup"><span data-stu-id="66df8-213">Including tests with open-source code is important to users, as it gives them assurance about what you validate, and provides information on how your code works.</span></span> <span data-ttu-id="66df8-214">También permite que los usuarios se aseguren de no romper la funcionalidad original si modifican el código para adaptarlo a su entorno.</span><span class="sxs-lookup"><span data-stu-id="66df8-214">It also allows users to ensure they do not break your original functionality if they modify your code to fit their environment.</span></span>

<span data-ttu-id="66df8-215">Es muy recomendable que las pruebas se escriban para aprovechar el marco de prueba Pester, diseñado específicamente para PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-215">It is strongly recommended that tests be written to take advantage of the Pester test framework, which has been designed specifically for PowerShell.</span></span>
<span data-ttu-id="66df8-216">Pester está disponible en [GitHub](https://github.com/Pester/Pester), la [Galería de PowerShell](https://www.powershellgallery.com/packages/Pester/) y se incluye en Windows 10, Windows Server 2016, WMF 5.0 y WMF 5.1.</span><span class="sxs-lookup"><span data-stu-id="66df8-216">Pester is available in [GitHub](https://github.com/Pester/Pester), the [PowerShell Gallery](https://www.powershellgallery.com/packages/Pester/), and ships in Windows 10, Windows Server 2016, WMF 5.0 and WMF 5.1.</span></span>

<span data-ttu-id="66df8-217">El [sitio del proyecto Pester en GitHub](https://github.com/Pester/Pester) incluye una excelente documentación sobre cómo escribir pruebas de Pester, desde la introducción hasta los procedimientos recomendados.</span><span class="sxs-lookup"><span data-stu-id="66df8-217">The [Pester project site in GitHub](https://github.com/Pester/Pester) includes good documentation on writing Pester tests, from getting started to best practices.</span></span>

<span data-ttu-id="66df8-218">Los objetivos de la cobertura de las pruebas se mencionan en la [documentación del módulo de recursos de alta calidad](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), con una cobertura de código de pruebas unitarias recomendada de 70%.</span><span class="sxs-lookup"><span data-stu-id="66df8-218">The targets for test coverage are called out in the [High Quality Resource Module documentation](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), with 70% unit test code coverage recommended.</span></span>

## <a name="include-andor-link-to-license-terms"></a><span data-ttu-id="66df8-219">Incluir los términos de licencia o un vínculo a ellos</span><span class="sxs-lookup"><span data-stu-id="66df8-219">Include and/or link to license terms</span></span>

<span data-ttu-id="66df8-220">Todos los paquetes que se publican en la Galería de PowerShell deben especificar los términos de licencia o estar sujetos a la licencia que se incluye en los [Términos de uso](https://www.powershellgallery.com/policies/Terms) en el "Anexo A".</span><span class="sxs-lookup"><span data-stu-id="66df8-220">All packages published to the PowerShell Gallery must specify the license terms, or be bound by the license included in the [Terms of Use](https://www.powershellgallery.com/policies/Terms) under "Exhibit A".</span></span>
<span data-ttu-id="66df8-221">El mejor enfoque para especificar una licencia distinta es proporcionar un vínculo a la licencia con el elemento LicenseURI en PSData.</span><span class="sxs-lookup"><span data-stu-id="66df8-221">The best approach to specifying a different license is to provide a link to the license using the LicenseURI in PSData.</span></span>
<span data-ttu-id="66df8-222">Puede encontrar un ejemplo en el tema Campos recomendados del manifiesto.</span><span class="sxs-lookup"><span data-stu-id="66df8-222">You can find an example in the Recommended Manifest Fields topic.</span></span>

```powershell
PrivateData = @{
    PSData = @{

        # Tags applied to this module. These help with module discovery in online galleries.
        Tags = @('.net','acl','active-directory')

        # A URL to the license for this module.
        LicenseUri = 'http://www.apache.org/licenses/LICENSE-2.0'
```

## <a name="sign-your-code"></a><span data-ttu-id="66df8-223">Firmar el código</span><span class="sxs-lookup"><span data-stu-id="66df8-223">Sign your code</span></span>

<span data-ttu-id="66df8-224">La firma de código permite que los usuarios tengan el mayor nivel de seguridad con respecto a quién publicó el paquete y que la copia del código que adquieren es exactamente lo que publicó el editor.</span><span class="sxs-lookup"><span data-stu-id="66df8-224">Code signing provides users with the highest level of assurance for who published the package, and that the copy of the code they acquire is exactly what the publisher released.</span></span>
<span data-ttu-id="66df8-225">Para más información sobre la firma de código en términos generales, consulte [Introducción a la firma de código](http://go.microsoft.com/fwlink/?LinkId=106296).</span><span class="sxs-lookup"><span data-stu-id="66df8-225">To learn more about code signing generally, see [Introduction to Code Signing](http://go.microsoft.com/fwlink/?LinkId=106296).</span></span>
<span data-ttu-id="66df8-226">PowerShell admite la validación de la firma de código mediante dos enfoques principales:</span><span class="sxs-lookup"><span data-stu-id="66df8-226">PowerShell supports validation of code signing through two primary approaches:</span></span>

- <span data-ttu-id="66df8-227">Firma de archivos de script</span><span class="sxs-lookup"><span data-stu-id="66df8-227">Signing script files</span></span>
- <span data-ttu-id="66df8-228">Firma de catálogo de un módulo</span><span class="sxs-lookup"><span data-stu-id="66df8-228">Catalog signing a module</span></span>

<span data-ttu-id="66df8-229">Firmar archivos de PowerShell es un enfoque establecido para garantizar que el código que se ejecuta proviene de un origen de confianza y que no se ha modificado.</span><span class="sxs-lookup"><span data-stu-id="66df8-229">Signing PowerShell files is a well-established approach to ensuring that the code being executed was produced by a reliable source, and has not been modified.</span></span>
<span data-ttu-id="66df8-230">El tema [Información sobre la firma](/powershell/module/microsoft.powershell.core/about/about_signing) muestra detalles sobre cómo firmar los archivos de script de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-230">Details on how to sign PowerShell script files is covered in the [About Signing](/powershell/module/microsoft.powershell.core/about/about_signing) topic.</span></span>
<span data-ttu-id="66df8-231">Como información general, se puede agregar una firma a cualquier archivo .PS1 que PowerShell valida cuando se carga el script.</span><span class="sxs-lookup"><span data-stu-id="66df8-231">In overview, a signature can be added to any .PS1 file that PowerShell validates when the script is loaded.</span></span>
<span data-ttu-id="66df8-232">Es posible restringir a PowerShell si se usan los cmdlets de [directiva de ejecución](/powershell/module/microsoft.powershell.core/about/about_execution_policies) para garantizar que se usen scripts firmados.</span><span class="sxs-lookup"><span data-stu-id="66df8-232">PowerShell can be constrained using the [Execution Policy](/powershell/module/microsoft.powershell.core/about/about_execution_policies) cmdlets to ensure use of signed scripts.</span></span>

<span data-ttu-id="66df8-233">La firma de catálogo de módulos es una característica que se agregó a PowerShell en la versión 5.1.</span><span class="sxs-lookup"><span data-stu-id="66df8-233">Catalog signing modules is a feature added to PowerShell in version 5.1.</span></span>
<span data-ttu-id="66df8-234">En el tema [Cmdlets del catálogo](/powershell/wmf/5.1/catalog-cmdlets) puede encontrar información sobre cómo firmar un módulo.</span><span class="sxs-lookup"><span data-stu-id="66df8-234">How to sign a module is covered in the [Catalog Cmdlets](/powershell/wmf/5.1/catalog-cmdlets) topic.</span></span>
<span data-ttu-id="66df8-235">Como información general, la firma de catálogo se hace mediante la creación de un archivo de catálogo, el que contiene un valor hash para cada archivo del módulo y, luego, se firma ese archivo.</span><span class="sxs-lookup"><span data-stu-id="66df8-235">In overview, catalog signing is done by creating a catalog file, which contains a hash value for every file in the module, and then signing that file.</span></span>
<span data-ttu-id="66df8-236">Los cmdlets publish-module, install-module, save-module y update-module de PowerShellGet comprobarán si la firma es válida y, luego, confirmarán si el valor hash de cada paquete coincide con lo que aparece en el catálogo.</span><span class="sxs-lookup"><span data-stu-id="66df8-236">The PowerShellGet publish-module, install-module, save-module, and update-module cmdlets will check the signature to ensure it is valid, then confirm that the hash value for each package matches what is in the catalog.</span></span>
<span data-ttu-id="66df8-237">Si hay instalada una versión anterior del módulo en el sistema, install-module confirmará si la autoridad de firma de la versión nueva coincide con la instalada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="66df8-237">If a previous version of the module is installed on the system, install-module will confirm that the signing authority for the new version matches what was previously installed.</span></span>
<span data-ttu-id="66df8-238">La firma de catálogo funciona en conjunto con la firma de archivos de script, pero no la reemplaza.</span><span class="sxs-lookup"><span data-stu-id="66df8-238">Catalog signing works with, but does not replace signing script files.</span></span> <span data-ttu-id="66df8-239">PowerShell no valida las firmas de catálogo en el momento de cargar módulos.</span><span class="sxs-lookup"><span data-stu-id="66df8-239">PowerShell does not validate catalog signatures at module load time.</span></span>

## <a name="follow-semver-guidelines-for-versioning"></a><span data-ttu-id="66df8-240">Seguir las instrucciones de SemVer para el control de versiones</span><span class="sxs-lookup"><span data-stu-id="66df8-240">Follow SemVer guidelines for versioning</span></span>

<span data-ttu-id="66df8-241">[SemVer](http://semver.org/) es una convención pública que describe cómo estructurar y cambiar una versión para permitir una interpretación sencilla de los cambios.</span><span class="sxs-lookup"><span data-stu-id="66df8-241">[SemVer](http://semver.org/) is a public convention that describes how to structure and change a version to allow easy interpretation of changes.</span></span>
<span data-ttu-id="66df8-242">La versión del paquete se debe incluir en los datos de manifiesto.</span><span class="sxs-lookup"><span data-stu-id="66df8-242">The version for your package must be included in the manifest data.</span></span>

- <span data-ttu-id="66df8-243">La versión debe tener una estructura de tres bloques numéricos separados por puntos, como en 0.1.1 o 4.11.192</span><span class="sxs-lookup"><span data-stu-id="66df8-243">The version should be structured as 3 numeric blocks separated by periods, as in 0.1.1 or 4.11.192</span></span>
- <span data-ttu-id="66df8-244">Las versiones que comienzan con "0" indican que el paquete todavía no está listo para el entorno de producción y el primer número solo debe empezar por "0" si es el único número que se usa.</span><span class="sxs-lookup"><span data-stu-id="66df8-244">Versions starting with "0" indicate that the package is not yet production ready, and the first number should only begin with "0" if that is the only number used</span></span>
- <span data-ttu-id="66df8-245">Los cambios en el primer número (1.9.9999 a 2.0.0) indican cambios importantes y disruptivos entre las distintas versiones</span><span class="sxs-lookup"><span data-stu-id="66df8-245">Changes in the first number (1.9.9999 to 2.0.0) indicate major and breaking changes between the versions</span></span>
- <span data-ttu-id="66df8-246">Los cambios en el segundo número (1.1 a 1.2) indican cambios en el nivel de característica, como agregar nuevos cmdlets a un módulo</span><span class="sxs-lookup"><span data-stu-id="66df8-246">Changes to the second number (1.1 to 1.2) indicate feature-level changes, such as adding new cmdlets to a module</span></span>
- <span data-ttu-id="66df8-247">Los cambios en el tercer número indican cambios no disruptivos, como nuevos parámetros, ejemplos actualizados o pruebas nuevas</span><span class="sxs-lookup"><span data-stu-id="66df8-247">Changes to the third number indicate non-breaking changes, such as new parameters, updated samples, or new tests</span></span>
- <span data-ttu-id="66df8-248">Cuando se enumeren las versiones, PowerShell las ordenará como cadenas, por lo que 1.01.0 se considerará mayor que 1.001.0</span><span class="sxs-lookup"><span data-stu-id="66df8-248">When listing versions, PowerShell will sort the versions as strings, so 1.01.0 will be treated as greater than 1.001.0</span></span>

<span data-ttu-id="66df8-249">PowerShell se creó antes de que se publicara SemVer, por lo que admite la mayoría pero no la totalidad de los elementos de SemVer, específicamente:</span><span class="sxs-lookup"><span data-stu-id="66df8-249">PowerShell was created before SemVer was published, so it provides support for most but not all elements of SemVer, specifically:</span></span>

- <span data-ttu-id="66df8-250">No admite cadenas de versión preliminar en los números de versión.</span><span class="sxs-lookup"><span data-stu-id="66df8-250">It does not support prerelease strings in version numbers.</span></span> <span data-ttu-id="66df8-251">Esto resulta útil si un publicador desea brindar una versión preliminar de una nueva versión principal después de brindar una versión 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="66df8-251">This is useful when a publisher wishes to deliver a preview release of a new major version after providing a version 1.0.0.</span></span> <span data-ttu-id="66df8-252">Esto se admitirá en una futura versión de los cmdlets de PowerShellGet y la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-252">This will be supported in a future release of the PowerShell Gallery and PowerShellGet cmdlets.</span></span>
- <span data-ttu-id="66df8-253">PowerShell y la Galería de PowerShell permiten cadenas de versión con 1, 2 y 4 segmentos.</span><span class="sxs-lookup"><span data-stu-id="66df8-253">PowerShell and the PowerShell Gallery allow version strings with 1, 2, and 4 segments.</span></span> <span data-ttu-id="66df8-254">Al comienzo, muchos de los módulos no seguían las instrucciones y las versiones de producto de Microsoft incluyen información de compilación como un cuarto bloque de números (por ejemplo, 5.1.14393.1066).</span><span class="sxs-lookup"><span data-stu-id="66df8-254">Many early modules did not follow the guidelines, and product releases from Microsoft include build information as a 4th block of numbers (for example 5.1.14393.1066).</span></span> <span data-ttu-id="66df8-255">Estas diferencias se omiten desde la perspectiva del control de versiones.</span><span class="sxs-lookup"><span data-stu-id="66df8-255">From a versioning standpoint, these differences are ignored.</span></span>

## <a name="test-using-a-local-repository"></a><span data-ttu-id="66df8-256">Prueba mediante un repositorio local</span><span class="sxs-lookup"><span data-stu-id="66df8-256">Test using a local repository</span></span>

<span data-ttu-id="66df8-257">La Galería de PowerShell no está diseñada para utilizarse como destino en las pruebas del proceso de publicación.</span><span class="sxs-lookup"><span data-stu-id="66df8-257">The PowerShell Gallery is not designed to be a target for testing the publishing process.</span></span>
<span data-ttu-id="66df8-258">La mejor manera de probar el proceso completo de publicación en la Galería de PowerShell es configurar y usar un repositorio local propio.</span><span class="sxs-lookup"><span data-stu-id="66df8-258">The best way to test out the end-to-end process of publishing to the PowerShell Gallery is to set up and use your own local repository.</span></span>
<span data-ttu-id="66df8-259">Esto puede hacerse de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="66df8-259">This can be done in a few ways, including:</span></span>

- <span data-ttu-id="66df8-260">Configurar una instancia local de la Galería de PowerShell, usando para ello el [proyecto Galería privada de PS](https://github.com/PowerShell/PSPrivateGallery) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="66df8-260">Set up a local PowerShell Gallery instance, using the [PS Private Gallery project](https://github.com/PowerShell/PSPrivateGallery) in Github.</span></span> <span data-ttu-id="66df8-261">Este proyecto de vista previa permite configurar una instancia de la Galería de PowerShell que se puede controlar y usar en las pruebas.</span><span class="sxs-lookup"><span data-stu-id="66df8-261">This preview project will help you set up an instance of the PowerShell Gallery that you can control, and use for your tests.</span></span>
- <span data-ttu-id="66df8-262">Configurar un [repositorio interno de NuGet](https://blogs.msdn.microsoft.com/powershell/2014/05/20/setting-up-an-internal-powershellget-repository/).</span><span class="sxs-lookup"><span data-stu-id="66df8-262">Set up an [internal Nuget repository](https://blogs.msdn.microsoft.com/powershell/2014/05/20/setting-up-an-internal-powershellget-repository/).</span></span> <span data-ttu-id="66df8-263">Esto requerirá un mayor trabajo de configuración, pero tiene la ventaja de que se validan algunos requisitos más, en particular el uso de una clave de API, y si las dependencias están presentes o no en el destino al publicar.</span><span class="sxs-lookup"><span data-stu-id="66df8-263">This will require more work to set up, but will have the advantage of validating a few more of the requirements, notably validating use of an API key, and whether or not dependencies are present in the target when you publish.</span></span>
- <span data-ttu-id="66df8-264">Configurar un recurso compartido de archivos como “repositorio” de pruebas.</span><span class="sxs-lookup"><span data-stu-id="66df8-264">Set up a file share as the test “repository”.</span></span> <span data-ttu-id="66df8-265">Su configuración es muy sencilla, pero puesto que se trata de un recurso compartido de archivos, las validaciones que se han mencionado anteriormente no se llevarán a cabo.</span><span class="sxs-lookup"><span data-stu-id="66df8-265">This is easy to set up, but since it is a file share, the validations noted above will not take place.</span></span> <span data-ttu-id="66df8-266">En este caso, una de las posibles ventajas es que el recurso compartido de archivos no comprueba la clave de API (obligatoria), por lo que se puede usar la misma clave que se utilizaría para publicar en la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-266">One potential advantage in this case is that the file share does not check the (required) API key, so you can use the same key you would to publish to the PowerShell Gallery.</span></span>

<span data-ttu-id="66df8-267">Con cualquiera de estas soluciones, hay que usar Register-PSRepository para definir un nuevo “repositorio”. Este repositorio se utilizará en la propiedad -Repository para Publish-Module.</span><span class="sxs-lookup"><span data-stu-id="66df8-267">With any of these solutions, use Register-PSRepository to define a new "repository", which you use in the -Repository property for Publish-Module.</span></span>

<span data-ttu-id="66df8-268">Un aspecto adicional sobre la publicación de prueba: para eliminar cualquier paquete publicado en la Galería de PowerShell, es necesario contar con la ayuda del equipo de operaciones, que confirmará la ausencia de dependencias en el paquete que se quiere publicar.</span><span class="sxs-lookup"><span data-stu-id="66df8-268">One additional point about test publishing: any package you publish to the PowerShell Gallery cannot be deleted without help from the operations team, who will confirm that nothing is dependent upon the package you wish to publish.</span></span>
<span data-ttu-id="66df8-269">Por esa razón, no somos partidarios de usar la Galería de PowerShell como destino de prueba, y nos pondremos en contacto con los publicadores que así lo hagan.</span><span class="sxs-lookup"><span data-stu-id="66df8-269">For that reason, we do not support the PowerShell Gallery as a testing target, and will contact any publisher who does so.</span></span>

## <a name="use-powershellget-to-publish"></a><span data-ttu-id="66df8-270">Usar PowerShellGet para publicar</span><span class="sxs-lookup"><span data-stu-id="66df8-270">Use PowerShellGet to publish</span></span>

<span data-ttu-id="66df8-271">Se recomienda encarecidamente a los publicadores usar los cmdlets Publish-Module y Publish-Script al trabajar con la Galería de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="66df8-271">It is strongly recommended that publishers use the Publish-Module and Publish-Script cmdlets when working with the PowerShell Gallery.</span></span>
<span data-ttu-id="66df8-272">PowerShellGet se ha creado para ayudar a no tener que recordar detalles importantes sobre la instalación desde la Galería de PowerShell y la publicación en ella.</span><span class="sxs-lookup"><span data-stu-id="66df8-272">PowerShellGet has been created to help you avoid remembering important details about installing from and publishing to the PowerShell Gallery.</span></span>
<span data-ttu-id="66df8-273">A veces, los publicadores optan por omitir PowerShellGet y usan el cliente NuGet, o los cmdlets de PackageManagement, en lugar de Publish-Module.</span><span class="sxs-lookup"><span data-stu-id="66df8-273">On occasion, publishers have chosen to skip PowerShellGet and use the NuGet client, or PackageManagement cmdlets, instead of Publish-Module.</span></span>
<span data-ttu-id="66df8-274">Hay una serie de detalles que se olvidan fácilmente, lo que da lugar a diferentes solicitudes de soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="66df8-274">There are a number of details that are easily missed, which results in a variety of support requests.</span></span>

<span data-ttu-id="66df8-275">Si hay algún motivo que le impida usar Publish-Module o Publish-Script, háganoslo saber.</span><span class="sxs-lookup"><span data-stu-id="66df8-275">If there is a reason that you cannot use Publish-Module or Publish-Script, please let us know.</span></span>
<span data-ttu-id="66df8-276">Registre un problema en el repositorio de GitHub de PowerShellGet y proporcione los detalles que le llevan a elegir PackageManagement o NuGet.</span><span class="sxs-lookup"><span data-stu-id="66df8-276">File an issue in the PowerShellGet GitHub repo, and provide the details that cause you to choose NuGet or PackageManagement.</span></span>

## <a name="recommended-workflow"></a><span data-ttu-id="66df8-277">Flujo de trabajo recomendado</span><span class="sxs-lookup"><span data-stu-id="66df8-277">Recommended workflow</span></span>

<span data-ttu-id="66df8-278">El enfoque que se considera más adecuado para los paquetes que se publican en la Galería de PowerShell es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="66df8-278">The most successful approach we have found for packages published to the PowerShell Gallery is this:</span></span>

- <span data-ttu-id="66df8-279">Haga el desarrollo inicial en un sitio de proyecto de código abierto.</span><span class="sxs-lookup"><span data-stu-id="66df8-279">Do initial development in a an open-source project site.</span></span> <span data-ttu-id="66df8-280">El equipo de PowerShell usa GitHub.</span><span class="sxs-lookup"><span data-stu-id="66df8-280">The PowerShell Team uses Github.</span></span>
- <span data-ttu-id="66df8-281">Use los comentarios de los revisores y [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer) para que el código tenga un estado estable</span><span class="sxs-lookup"><span data-stu-id="66df8-281">Use feedback from reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer) to get the code to stable state</span></span>
- <span data-ttu-id="66df8-282">Incluya documentación para que otros usuarios sepan cómo usar su trabajo</span><span class="sxs-lookup"><span data-stu-id="66df8-282">Include documentation, so others know how to use your work</span></span>
- <span data-ttu-id="66df8-283">Pruebe la acción de publicación con un repositorio local.</span><span class="sxs-lookup"><span data-stu-id="66df8-283">Test out the publishing action using a local repository.</span></span>
- <span data-ttu-id="66df8-284">Publique una versión estable o alfa en la Galería de PowerShell y asegúrese de incluir la documentación y el vínculo al sitio del proyecto</span><span class="sxs-lookup"><span data-stu-id="66df8-284">Publish a stable or Alpha release to the PowerShell Gallery, making sure to include the documentation and link to your project site</span></span>
- <span data-ttu-id="66df8-285">Recopile comentarios y establezca una iteración en el código del sitio del proyecto y, luego, publique actualizaciones estables en la Galería de PowerShell</span><span class="sxs-lookup"><span data-stu-id="66df8-285">Gather feedback and iterate on the code in your project site, then publish stable updates to the PowerShell Gallery</span></span>
- <span data-ttu-id="66df8-286">Agregue ejemplos y pruebas Pester en el proyecto y el módulo</span><span class="sxs-lookup"><span data-stu-id="66df8-286">Add examples and Pester tests in your project and your module</span></span>
- <span data-ttu-id="66df8-287">Decida si desea firmar su paquete</span><span class="sxs-lookup"><span data-stu-id="66df8-287">Decide if you want to code sign your package</span></span>
- <span data-ttu-id="66df8-288">Cuando considere que el proyecto está listo para usarlo en un entorno de producción, publique una versión 1.0.0 en la Galería de PowerShell</span><span class="sxs-lookup"><span data-stu-id="66df8-288">When you feel the project is ready to use in a production environment, publish a 1.0.0 version to the PowerShell Gallery</span></span>
- <span data-ttu-id="66df8-289">Siga recopilando comentarios y estableciendo iteraciones en el código según las contribuciones de los usuarios</span><span class="sxs-lookup"><span data-stu-id="66df8-289">Continue to gather feedback and iterate on your code based on user input</span></span>
