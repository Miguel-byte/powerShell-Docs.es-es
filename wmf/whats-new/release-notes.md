---
ms.date: 06/12/2017
ms.topic: conceptual
keywords: wmf,powershell,setup
title: Notas de la versión WMF 5.0
ms.openlocfilehash: 8bdc423234cf0b104b72b1bee1de35e50783d8a4
ms.sourcegitcommit: 01b81317029b28dd9b61d167045fd31f1ec7bc06
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 05/17/2019
ms.locfileid: "65855770"
---
# <a name="windows-management-framework-wmf-5x-release-notes"></a><span data-ttu-id="d0d04-103">Notas de la versión de Windows Management Framework (WMF) 5.x</span><span class="sxs-lookup"><span data-stu-id="d0d04-103">Windows Management Framework (WMF) 5.x Release Notes</span></span>

## <a name="wmf-50-changes"></a><span data-ttu-id="d0d04-104">Cambios en WMF 5.0</span><span class="sxs-lookup"><span data-stu-id="d0d04-104">WMF 5.0 Changes</span></span>

- <span data-ttu-id="d0d04-105">PowerShell 5.0 agrega un nuevo flujo de **información** estructurado</span><span class="sxs-lookup"><span data-stu-id="d0d04-105">PowerShell 5.0 adds a new structured **Information** stream</span></span>
- <span data-ttu-id="d0d04-106">Mejoras en DSC, incluidos cuatro recursos de DSC nuevos:</span><span class="sxs-lookup"><span data-stu-id="d0d04-106">Improvements to DSC including four new DSC resources:</span></span>
  - <span data-ttu-id="d0d04-107">WindowsFeatureSet</span><span class="sxs-lookup"><span data-stu-id="d0d04-107">WindowsFeatureSet</span></span>
  - <span data-ttu-id="d0d04-108">WindowsOptionalFeatureSet</span><span class="sxs-lookup"><span data-stu-id="d0d04-108">WindowsOptionalFeatureSet</span></span>
  - <span data-ttu-id="d0d04-109">ServiceSet</span><span class="sxs-lookup"><span data-stu-id="d0d04-109">ServiceSet</span></span>
  - <span data-ttu-id="d0d04-110">ProcessSet</span><span class="sxs-lookup"><span data-stu-id="d0d04-110">ProcessSet</span></span>
- <span data-ttu-id="d0d04-111">Se agregó Just Enough Administration para habilitar la administración basada en roles a través de la comunicación remota de PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-111">Added Just Enough Administration to enable role-based administration through PowerShell remoting</span></span>
- <span data-ttu-id="d0d04-112">PowerShell 5.0 extiende el lenguaje para incluir enumeraciones y clases definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="d0d04-112">PowerShell 5.0 extends the language to include user-defined classes and enumerations</span></span>
- <span data-ttu-id="d0d04-113">Se mejoraron las características de depuración de PowerShell ISE y se agregó la depuración remota</span><span class="sxs-lookup"><span data-stu-id="d0d04-113">Improved debugging features in PowerShell ISE and added remote debugging</span></span>
- <span data-ttu-id="d0d04-114">Se agregaron los módulos PowerShellGet y PackageManagement</span><span class="sxs-lookup"><span data-stu-id="d0d04-114">Added the PowerShellGet and PackageManagement modules</span></span>
- <span data-ttu-id="d0d04-115">Se mejoraron las transcripciones y el registro de scripts de PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-115">Enhanced PowerShell script logging and transcripts</span></span>
- <span data-ttu-id="d0d04-116">Se agregaron cmdlets de sintaxis de mensajes de cifrado</span><span class="sxs-lookup"><span data-stu-id="d0d04-116">Add Cryptographic Message Syntax cmdlets</span></span>
- <span data-ttu-id="d0d04-117">WMF 5.0 incluye el módulo NetworkSwitchManager para Windows</span><span class="sxs-lookup"><span data-stu-id="d0d04-117">WMF 5.0 includes the NetworkSwitchManager module for Windows</span></span>
- <span data-ttu-id="d0d04-118">Se agregó el módulo Microsoft.PowerShell.ODataUtils</span><span class="sxs-lookup"><span data-stu-id="d0d04-118">Added the Microsoft.PowerShell.ODataUtils module</span></span>
- <span data-ttu-id="d0d04-119">Se agregó compatibilidad con el Registro de inventario de software (SIL)</span><span class="sxs-lookup"><span data-stu-id="d0d04-119">Added support for Software Inventory Logging (SIL)</span></span>
- <span data-ttu-id="d0d04-120">Varios cmdlets nuevos o actualizados en respuesta a problemas y solicitudes de usuarios</span><span class="sxs-lookup"><span data-stu-id="d0d04-120">Sever new or update cmdlets in response to user requests and issues</span></span>

## <a name="wmf-51-changes"></a><span data-ttu-id="d0d04-121">Cambios en WMF 5.1</span><span class="sxs-lookup"><span data-stu-id="d0d04-121">WMF 5.1 Changes</span></span>

<span data-ttu-id="d0d04-122">WMF 5.1 incluye los componentes de PowerShell, WMI, WinRM y Registro de inventario de software (SIL) que se lanzaron con Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="d0d04-122">WMF 5.1 includes the PowerShell, WMI, WinRM, and Software Inventory Logging (SIL) components that were released with Windows Server 2016.</span></span> <span data-ttu-id="d0d04-123">WMF 5.1 puede instalarse en Windows 7, Windows 8.1, Windows Server 2008 R2, 2012 y 2012 R2 y proporciona varias mejoras con respecto a WMF 5.0 RTM, incluidos:</span><span class="sxs-lookup"><span data-stu-id="d0d04-123">WMF 5.1 can be installed on Windows 7, Windows 8.1, Windows Server 2008 R2, 2012, and 2012 R2, and provides several improvements over WMF 5.0 including:</span></span>

- <span data-ttu-id="d0d04-124">Nuevos cmdlets</span><span class="sxs-lookup"><span data-stu-id="d0d04-124">New cmdlets</span></span>
- <span data-ttu-id="d0d04-125">En las mejoras de PowerShellGet se incluyen la aplicación de módulos firmados y la instalación de módulos JEA</span><span class="sxs-lookup"><span data-stu-id="d0d04-125">PowerShellGet improvements include enforcing signed modules, and installing JEA modules</span></span>
- <span data-ttu-id="d0d04-126">PackageManagement ha agregado compatibilidad con contenedores, configuración de CBS, configuración basada en EXE y paquetes de CAB</span><span class="sxs-lookup"><span data-stu-id="d0d04-126">PackageManagement added support for Containers, CBS Setup, EXE-based setup, CAB packages</span></span>
- <span data-ttu-id="d0d04-127">Mejoras de depuración para las clases DSC y PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-127">Debugging improvements for DSC and PowerShell classes</span></span>
- <span data-ttu-id="d0d04-128">Mejoras de seguridad, incluido el cumplimiento de módulos firmados por catálogos procedentes del servidor de extracción y al usar cmdlets de PowerShellGet</span><span class="sxs-lookup"><span data-stu-id="d0d04-128">Security enhancements including enforcement of catalog-signed modules coming from the Pull Server and when using PowerShellGet cmdlets</span></span>
- <span data-ttu-id="d0d04-129">Respuestas a varios problemas y varias solicitudes de usuarios</span><span class="sxs-lookup"><span data-stu-id="d0d04-129">Responses to a number of user requests and issues</span></span>

## <a name="powershell-editions"></a><span data-ttu-id="d0d04-130">Ediciones de PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-130">PowerShell Editions</span></span>

<span data-ttu-id="d0d04-131">A partir de la versión 5.1, PowerShell está disponible en diferentes ediciones que denotan distintos conjuntos de características y compatibilidad con varias plataformas.</span><span class="sxs-lookup"><span data-stu-id="d0d04-131">Starting with version 5.1, PowerShell is available in different editions that denote varying feature sets and platform compatibility.</span></span>

- <span data-ttu-id="d0d04-132">**Desktop Edition:** basado en .NET Framework y proporciona compatibilidad con scripts y módulos destinados a las versiones de PowerShell que se ejecutan en las ediciones de superficie completa de Windows como Server Core y Windows Desktop.</span><span class="sxs-lookup"><span data-stu-id="d0d04-132">**Desktop Edition:** Built on .NET Framework and provides compatibility with scripts and modules targeting versions of PowerShell running on full footprint editions of Windows such as Server Core and Windows Desktop.</span></span>
- <span data-ttu-id="d0d04-133">**Core Edition:** basado en .NET Core y proporciona compatibilidad con scripts y módulos destinados a las versiones de PowerShell que se ejecutan en las ediciones de superficie completa de Windows como Nano Server y Windows IoT.</span><span class="sxs-lookup"><span data-stu-id="d0d04-133">**Core Edition:** Built on .NET Core and provides compatibility with scripts and modules targeting versions of PowerShell running on reduced footprint editions of Windows such as Nano Server and Windows IoT.</span></span>

### <a name="learn-more-about-using-powershell-editions"></a><span data-ttu-id="d0d04-134">Más información acerca de las ediciones de PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-134">Learn more about using PowerShell Editions</span></span>

- [<span data-ttu-id="d0d04-135">Determinación de la edición de ejecución de PowerShell con $PSVersionTable</span><span class="sxs-lookup"><span data-stu-id="d0d04-135">Determine running edition of PowerShell using $PSVersionTable</span></span>](/powershell/module/microsoft.powershell.core/about/about_automatic_variables)
- [<span data-ttu-id="d0d04-136">Filtrado de los resultados de Get-Module mediante CompatiblePSEditions con el parámetro PSEdition</span><span class="sxs-lookup"><span data-stu-id="d0d04-136">Filter Get-Module results by CompatiblePSEditions using PSEdition parameter</span></span>](/powershell/module/microsoft.powershell.core/get-module)
- [<span data-ttu-id="d0d04-137">Impedir la ejecución de scripts, a menos que se ejecuten en una edición compatible de PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-137">Prevent script execution unless run on a compatible edition of PowerShell</span></span>](/powershell/gallery/concepts/script-psedition-support)
- [<span data-ttu-id="d0d04-138">Declarar la compatibilidad de un módulo con versiones específicas de PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0d04-138">Declare a module's compatibility to specific PowerShell versions</span></span>](/powershell/gallery/concepts/module-psedition-support)

## <a name="module-analysis-cache"></a><span data-ttu-id="d0d04-139">Caché de análisis de módulo</span><span class="sxs-lookup"><span data-stu-id="d0d04-139">Module Analysis Cache</span></span>

<span data-ttu-id="d0d04-140">A partir de WMF 5.1, PowerShell proporciona control sobre el archivo que se utiliza para almacenar en la caché los datos acerca de un módulo, como los comandos que exporta.</span><span class="sxs-lookup"><span data-stu-id="d0d04-140">Starting with WMF 5.1, PowerShell provides control over the file that is used to cache data about a module, such as the commands it exports.</span></span>

<span data-ttu-id="d0d04-141">De manera predeterminada, esta caché se almacena en el archivo `${env:LOCALAPPDATA}\Microsoft\Windows\PowerShell\ModuleAnalysisCache`.</span><span class="sxs-lookup"><span data-stu-id="d0d04-141">By default, this cache is stored in the file `${env:LOCALAPPDATA}\Microsoft\Windows\PowerShell\ModuleAnalysisCache`.</span></span> <span data-ttu-id="d0d04-142">La caché normalmente se lee en el inicio al buscar un comando y se escribe en un subproceso en segundo plano después de que se importa un módulo.</span><span class="sxs-lookup"><span data-stu-id="d0d04-142">The cache is typically read at startup while searching for a command and is written on a background thread sometime after a module is imported.</span></span>

<span data-ttu-id="d0d04-143">Para cambiar la ubicación predeterminada de la memoria caché, establezca la variable de entorno `$env:PSModuleAnalysisCachePath` antes de iniciar PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d0d04-143">To change the default location of the cache, set the `$env:PSModuleAnalysisCachePath` environment variable before starting PowerShell.</span></span> <span data-ttu-id="d0d04-144">Los cambios en esta variable de entorno solo afectarán a los procesos secundarios.</span><span class="sxs-lookup"><span data-stu-id="d0d04-144">Changes to this environment variable will only affect children processes.</span></span> <span data-ttu-id="d0d04-145">El valor debe asignar un nombre a una ruta de acceso completa (nombre de archivo incluido) en la que PowerShell tiene permiso para crear y escribir archivos.</span><span class="sxs-lookup"><span data-stu-id="d0d04-145">The value should name a full path (including filename) that PowerShell has permission to create and write files.</span></span> <span data-ttu-id="d0d04-146">Para deshabilitar la caché del archivo, establezca este valor en una ubicación no válida, como por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="d0d04-146">To disable the file cache, set this value to an invalid location, for example:</span></span>

```powershell
$env:PSModuleAnalysisCachePath = 'nul'
```

<span data-ttu-id="d0d04-147">Esto establece la ruta de acceso en un dispositivo no válido.</span><span class="sxs-lookup"><span data-stu-id="d0d04-147">This sets the path to an invalid device.</span></span> <span data-ttu-id="d0d04-148">Si PowerShell no puede escribir en la ruta de acceso, no se devuelve ningún error, pero se pueden ver informes del error a través de un seguimiento:</span><span class="sxs-lookup"><span data-stu-id="d0d04-148">If PowerShell can't write to the path, no error is returned, but you can see error reporting by using a tracer:</span></span>

```powershell
Trace-Command -PSHost -Name Modules -Expression { Import-Module Microsoft.PowerShell.Management -Force }
```

<span data-ttu-id="d0d04-149">Al escribir en la caché, PowerShell buscará si hay módulos que no existen, con el fin de evitar que la caché sea demasiado grande.</span><span class="sxs-lookup"><span data-stu-id="d0d04-149">When writing out the cache, PowerShell will check for modules that no longer exist to avoid an unnecessarily large cache.</span></span> <span data-ttu-id="d0d04-150">A veces no interesa que se realicen estas comprobaciones, en cuyo caso se pueden desactivar estableciendo:</span><span class="sxs-lookup"><span data-stu-id="d0d04-150">Sometimes these checks are not desirable, in which case you can turn them off by setting:</span></span>

```powershell
$env:PSDisableModuleAnalysisCacheCleanup = 1
```

<span data-ttu-id="d0d04-151">El establecimiento de esta variable de entorno surtirá efecto de inmediato en el proceso actual.</span><span class="sxs-lookup"><span data-stu-id="d0d04-151">Setting this environment variable will take effect immediately in the current process.</span></span>

## <a name="specifying-module-version"></a><span data-ttu-id="d0d04-152">Especificación de la versión del módulo</span><span class="sxs-lookup"><span data-stu-id="d0d04-152">Specifying module version</span></span>

<span data-ttu-id="d0d04-153">En WMF 5.1, `using module` se comporta de la misma forma que las restantes construcciones relacionadas con módulos de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d0d04-153">In WMF 5.1, `using module` behaves the same way as other module-related constructions in PowerShell.</span></span>
<span data-ttu-id="d0d04-154">Antes no había forma de especificar una versión concreta del módulo; si había varias versiones, aparecía un error.</span><span class="sxs-lookup"><span data-stu-id="d0d04-154">Previously, you had no way to specify a particular module version; if there were multiple versions present, this resulted in an error.</span></span>

<span data-ttu-id="d0d04-155">En WMF 5.1:</span><span class="sxs-lookup"><span data-stu-id="d0d04-155">In WMF 5.1:</span></span>

- <span data-ttu-id="d0d04-156">Puede usar el [constructor ModuleSpecification (tabla hash)](/dotnet/api/microsoft.powershell.commands.modulespecification.-ctor?view=powershellsdk-1.1.0#Microsoft_PowerShell_Commands_ModuleSpecification__ctor_System_Collections_Hashtable_).</span><span class="sxs-lookup"><span data-stu-id="d0d04-156">You can use [ModuleSpecification Constructor (Hashtable)](/dotnet/api/microsoft.powershell.commands.modulespecification.-ctor?view=powershellsdk-1.1.0#Microsoft_PowerShell_Commands_ModuleSpecification__ctor_System_Collections_Hashtable_).</span></span>
  <span data-ttu-id="d0d04-157">Esta tabla hash tiene el mismo formato que `Get-Module -FullyQualifiedName`.</span><span class="sxs-lookup"><span data-stu-id="d0d04-157">This hash table has the same format as `Get-Module -FullyQualifiedName`.</span></span>

  <span data-ttu-id="d0d04-158">**Ejemplo:** `using module @{ModuleName = 'PSReadLine'; RequiredVersion = '1.1'}`</span><span class="sxs-lookup"><span data-stu-id="d0d04-158">**Example:** `using module @{ModuleName = 'PSReadLine'; RequiredVersion = '1.1'}`</span></span>

- <span data-ttu-id="d0d04-159">Si hay varias versiones del módulo de multiplicar, PowerShell usa la **misma lógica de resolución** que `Import-Module` y no devuelve ningún error (el mismo comportamiento que `Import-Module` y `Import-DscResource`).</span><span class="sxs-lookup"><span data-stu-id="d0d04-159">If there are multiple versions of the module, PowerShell uses the **same resolution logic** as `Import-Module` and doesn't return an error--the same behavior as `Import-Module` and `Import-DscResource`.</span></span>

## <a name="improvements-to-pester"></a><span data-ttu-id="d0d04-160">Mejoras en Pester</span><span class="sxs-lookup"><span data-stu-id="d0d04-160">Improvements to Pester</span></span>

<span data-ttu-id="d0d04-161">En WMF 5.1, la versión de Pester que se incluye con PowerShell se actualizó de 3.3.5 a 3.4.0.</span><span class="sxs-lookup"><span data-stu-id="d0d04-161">In WMF 5.1, the version of Pester that ships with PowerShell has been updated from 3.3.5 to 3.4.0.</span></span>
<span data-ttu-id="d0d04-162">Esta actualización permite un mejor comportamiento para Pester en Nano Server.</span><span class="sxs-lookup"><span data-stu-id="d0d04-162">This update enables better behavior for Pester on Nano Server.</span></span>

<span data-ttu-id="d0d04-163">Para revisar los cambios en Pest, inspeccione el [registro de cambios](https://github.com/pester/Pester/blob/master/CHANGELOG.md) del repositorio de GitHub.</span><span class="sxs-lookup"><span data-stu-id="d0d04-163">You can review the changes in Pest by inspecting the [ChangeLog](https://github.com/pester/Pester/blob/master/CHANGELOG.md) in the GitHub repository.</span></span>
