---
ms.date: 06/12/2017
keywords: wmf,powershell,setup
ms.openlocfilehash: 9af931a1a2b545ba36826246c4155f42052a16bf
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2019
ms.locfileid: "62085709"
---
# <a name="mof-documents-are-encrypted-by-default"></a><span data-ttu-id="133c4-102">Los documentos MOF están cifrados de forma predeterminada</span><span class="sxs-lookup"><span data-stu-id="133c4-102">MOF Documents Are Encrypted By Default</span></span>

<span data-ttu-id="133c4-103">Los documentos de configuración contienen información confidencial.</span><span class="sxs-lookup"><span data-stu-id="133c4-103">Configuration documents contain sensitive information.</span></span> <span data-ttu-id="133c4-104">En versiones anteriores de DSC era necesario distribuir y administrar certificados para proteger las credenciales en una configuración.</span><span class="sxs-lookup"><span data-stu-id="133c4-104">In previous versions of DSC you were required to distribute and manage certificates in order to secure credentials within a configuration.</span></span> <span data-ttu-id="133c4-105">Para muchos, esto suponía una carga de administración considerable e incluso con todo el trabajo que requería, aún quedaba información de configuración que no estaba protegida ni se podía proteger.</span><span class="sxs-lookup"><span data-stu-id="133c4-105">For many, this was a significant management burden and even with all of the work it took to do this you were still left with some configuration information that was not and could not be secured.</span></span>

<span data-ttu-id="133c4-106">Esto ya no es así, porque **todos los MOF de configuración están protegidos de forma predeterminada**.</span><span class="sxs-lookup"><span data-stu-id="133c4-106">That is no longer the case because **all configuration MOFs are secured by default**.</span></span> <span data-ttu-id="133c4-107">No se necesitan certificados ni valores de metaconfiguración.</span><span class="sxs-lookup"><span data-stu-id="133c4-107">No certificates or meta-configuration settings are needed.</span></span> <span data-ttu-id="133c4-108">Cada vez que el Administrador de configuración local (LCM) guarda un MOF de configuración en el disco en un nodo de destino, dicho documento se cifra.</span><span class="sxs-lookup"><span data-stu-id="133c4-108">Any time a configuration MOF is saved to disk by the Local Configuration Manager (LCM) on a target node, it is encrypted.</span></span> <span data-ttu-id="133c4-109">Los MOF se cifran mediante [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span><span class="sxs-lookup"><span data-stu-id="133c4-109">The MOFs are encrypted using [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span></span> <span data-ttu-id="133c4-110">**Nota:** Los archivos MOF que genera un script de configuración no están cifrados.</span><span class="sxs-lookup"><span data-stu-id="133c4-110">**Note:** MOFs generated by a configuration script are not encrypted.</span></span>

<span data-ttu-id="133c4-111">**Ejemplo**: en modo de inserción ![Cifrado de MOF](../images/MOF_Encryption.jpg)</span><span class="sxs-lookup"><span data-stu-id="133c4-111">**Example:** Encryption in push mode ![MOF Encryption](../images/MOF_Encryption.jpg)</span></span>

<span data-ttu-id="133c4-112">Si ya está usa el método del certificado para cifrar contraseñas o si necesita seguridad adicional para las contraseñas, el [método existente de cifrado basado en certificados](https://msdn.microsoft.com/powershell/dsc/securemof) seguirá funcionando.</span><span class="sxs-lookup"><span data-stu-id="133c4-112">If you are already using the certificate method for encrypting passwords or if you need additional security for your passwords, the [existing method of certificate based encryption](https://msdn.microsoft.com/powershell/dsc/securemof) will continue to work.</span></span> <span data-ttu-id="133c4-113">El resultado será un documento MOF completamente cifrado mediante DPAPI, que además incluirá contraseñas cifradas.</span><span class="sxs-lookup"><span data-stu-id="133c4-113">The result will be a MOF document that is fully encrypted using the DPAPIs and additionally have passwords encrypted within it.</span></span>

<span data-ttu-id="133c4-114">Este cifrado solo se aplica a documentos MOF de configuración (pending.mof, current.mof, previous.mof y MOF parciales).</span><span class="sxs-lookup"><span data-stu-id="133c4-114">This encryption only applies to configuration MOF documents (pending.mof, current.mof, previous.mof and partial MOFs).</span></span> <span data-ttu-id="133c4-115">Los MOF de metaconfiguración se siguen guardando en texto sin formato, ya que es menos probable que contengan secretos.</span><span class="sxs-lookup"><span data-stu-id="133c4-115">Meta-configuration MOFs are still saved in plain text since they less likely contain secrets.</span></span>
