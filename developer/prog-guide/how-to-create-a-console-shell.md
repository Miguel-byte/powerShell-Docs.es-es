---
title: Cómo crear un Shell de la consola | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Make-Shell [PowerShell Programmer's Guide]
ms.assetid: 6c24dd44-a8ec-421d-ac86-90912e1a8cc6
caps.latest.revision: 5
ms.openlocfilehash: 7166881bd1403ea8c81ec2928321f6b93e3ac58d
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/03/2019
ms.locfileid: "56853501"
---
# <a name="how-to-create-a-console-shell"></a><span data-ttu-id="c3184-102">Cómo crear un shell de la consola</span><span class="sxs-lookup"><span data-stu-id="c3184-102">How to Create a Console Shell</span></span>

<span data-ttu-id="c3184-103">Windows PowerShell proporciona una herramienta de creación Shell, que también se denomina el "make-kit", que se usa para crear un shell de consola que no es extensible.</span><span class="sxs-lookup"><span data-stu-id="c3184-103">Windows PowerShell provides a Make-Shell tool, also referred to as the "make-kit", that is used to create a console shell that is not extensible.</span></span> <span data-ttu-id="c3184-104">Shells creados con esta nueva herramienta no pueden ampliarse más adelante a través de un complemento de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c3184-104">Shells created with this new tool cannot be extended later through a Windows PowerShell snap-in.</span></span>

## <a name="syntax"></a><span data-ttu-id="c3184-105">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="c3184-105">Syntax</span></span>

<span data-ttu-id="c3184-106">Esta es la sintaxis utilizada para ejecutar el Shell de Make desde dentro de un archivo make.</span><span class="sxs-lookup"><span data-stu-id="c3184-106">Here is the syntax used to run Make-Shell from within a make-file.</span></span>

```
make-shell
  -out n.exe
  -namespace ns
  [ -lib libdirectory1[,libdirectory2,..] ]
  [ -reference ca1.dll[,ca2.dll,...] ]
  [ -formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...] ]
  [ -typedata td1.type.ps1xml[,td2.type.ps1xml,...] ]
  [ -source c1.cs [,c2.cs,...] ]
  [ -authorizationmanager authorizationManagerType ]
  [ -win32icon i.ico ]
  [ -initscript p.ps1 ]
  [ -builtinscript s1.ps1[,s2.ps1,...] ]
  [ -resource resourcefile.txt ]
  [ -cscflags cscFlags ]
  [ -? | -help ]
```

## <a name="parameters"></a><span data-ttu-id="c3184-107">Parámetros</span><span class="sxs-lookup"><span data-stu-id="c3184-107">Parameters</span></span>

<span data-ttu-id="c3184-108">Aquí es una breve descripción de los parámetros de Make-Shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-108">Here is a brief description of the parameters of Make-Shell.</span></span>

> [!CAUTION]
> <span data-ttu-id="c3184-109">Asegúrese de Shell no admiten las rutas de acceso UNC a los ensamblados.</span><span class="sxs-lookup"><span data-stu-id="c3184-109">UNC paths to assemblies are not supported by Make-Shell.</span></span>

|<span data-ttu-id="c3184-110">Parámetro</span><span class="sxs-lookup"><span data-stu-id="c3184-110">Parameter</span></span>|<span data-ttu-id="c3184-111">Descripción</span><span class="sxs-lookup"><span data-stu-id="c3184-111">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="c3184-112">-out n.exe</span><span class="sxs-lookup"><span data-stu-id="c3184-112">-out n.exe</span></span>|<span data-ttu-id="c3184-113">Obligatorio.</span><span class="sxs-lookup"><span data-stu-id="c3184-113">Required.</span></span> <span data-ttu-id="c3184-114">El nombre del shell para generar.</span><span class="sxs-lookup"><span data-stu-id="c3184-114">The name of the shell to produce.</span></span> <span data-ttu-id="c3184-115">La ruta de acceso se especifica como parte de este parámetro.</span><span class="sxs-lookup"><span data-stu-id="c3184-115">The path is specified as part of this parameter.</span></span><br /><br /> <span data-ttu-id="c3184-116">Asegúrese de shell anexará ".exe" a este valor si no se especifica.</span><span class="sxs-lookup"><span data-stu-id="c3184-116">Make-shell will append ".exe" to this value if it is not specified.</span></span> <span data-ttu-id="c3184-117">**Precaución:**  No cree un archivo de salida con el mismo nombre que el archivo .dll que se hace referencia.</span><span class="sxs-lookup"><span data-stu-id="c3184-117">**Caution:**  Do not create an output file with the same name as the referenced .dll file.</span></span> <span data-ttu-id="c3184-118">Si intenta hacer esto, la herramienta de creación Shell crea un archivo .cs con el mismo nombre, lo que sobrescribirá el archivo .cs que tiene el código fuente de cmdlet.</span><span class="sxs-lookup"><span data-stu-id="c3184-118">If you attempt this, the Make-Shell tool creates a .cs file with the same name, which will overwrite the .cs file that has your cmdlet source code.</span></span>|
|<span data-ttu-id="c3184-119">el espacio de nombres - ns</span><span class="sxs-lookup"><span data-stu-id="c3184-119">-namespace ns</span></span>|<span data-ttu-id="c3184-120">Obligatorio.</span><span class="sxs-lookup"><span data-stu-id="c3184-120">Required.</span></span> <span data-ttu-id="c3184-121">El espacio de nombres que se usará para la clase derivada [System.Management.Automation.Runspaces.Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) clase que el kit de make genera y compila.</span><span class="sxs-lookup"><span data-stu-id="c3184-121">The namespace to use for the derived [System.Management.Automation.Runspaces.Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) class that the make-kit generates and compiles.</span></span>|
|<span data-ttu-id="c3184-122">-lib libdirectory1[,libdirectory2,..]</span><span class="sxs-lookup"><span data-stu-id="c3184-122">-lib libdirectory1[,libdirectory2,..]</span></span>|<span data-ttu-id="c3184-123">Los directorios que se buscan los ensamblados. NET, incluidos los ensamblados de Windows PowerShell, los ensamblados especificados por el `reference` parámetro ensamblados al que hace referencia indirectamente el otro ensamblado y los ensamblados de .NET del sistema.</span><span class="sxs-lookup"><span data-stu-id="c3184-123">The directories that are searched for .NET assemblies, including the Windows PowerShell assemblies, assemblies specified by the `reference` parameter, assemblies indirectly referenced by another assembly, and the .NET system assemblies.</span></span>|
|<span data-ttu-id="c3184-124">-referencia ca1.dll[,ca2.dll,...]</span><span class="sxs-lookup"><span data-stu-id="c3184-124">-reference ca1.dll[,ca2.dll,...]</span></span>|<span data-ttu-id="c3184-125">Una lista separada por comas de los ensamblados que se van a incluir en el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-125">A comma-separated list of the assemblies to include in the shell.</span></span> <span data-ttu-id="c3184-126">Estos ensamblados incluye todos los cmdlet y ensamblados de proveedor, así como los ensamblados de recursos que se deben cargar.</span><span class="sxs-lookup"><span data-stu-id="c3184-126">These assemblies  includes all cmdlet and provider assemblies, as well as resource assemblies that should be loaded.</span></span> <span data-ttu-id="c3184-127">Si no se especifica este parámetro, se genera un shell que contiene solo los proveedores de Windows PowerShell y cmdlets principales.</span><span class="sxs-lookup"><span data-stu-id="c3184-127">If this parameter is not specified, then a shell is produced that contains only the core cmdlets and providers provided by Windows PowerShell.</span></span><br /><br /> <span data-ttu-id="c3184-128">Se pueden especificar los ensamblados mediante su ruta de acceso completa, en caso contrario, se buscarán para el uso de la ruta de acceso especificada por el `lib` parámetro.</span><span class="sxs-lookup"><span data-stu-id="c3184-128">The assemblies can be specified using their full path, otherwise they will be searched for using the path specified by the `lib` parameter.</span></span>|
|<span data-ttu-id="c3184-129">-formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...]</span><span class="sxs-lookup"><span data-stu-id="c3184-129">-formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...]</span></span>|<span data-ttu-id="c3184-130">Una lista separada por comas de los datos de formato debe incluir en el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-130">A comma-separated list of format data to include in the shell.</span></span> <span data-ttu-id="c3184-131">Si no se especifica este parámetro, se genera un shell que contiene solo los datos de formato proporcionados por Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c3184-131">If this parameter is not specified, then a shell is produced that contains only the format data provided by Windows PowerShell.</span></span>|
|<span data-ttu-id="c3184-132">-typedata td1.type.ps1xml[,td2.type.ps1xml,...]</span><span class="sxs-lookup"><span data-stu-id="c3184-132">-typedata td1.type.ps1xml[,td2.type.ps1xml,...]</span></span>|<span data-ttu-id="c3184-133">Una lista separada por comas de los datos de tipo para incluir en el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-133">A comma-separated list of type data to include in the shell.</span></span> <span data-ttu-id="c3184-134">Si no se especifica este parámetro, se genera un shell que contiene solo los datos de tipo proporcionados por Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c3184-134">If this parameter is not specified, then a shell is produced that contains only the type data provided by Windows PowerShell.</span></span>|
|<span data-ttu-id="c3184-135">-origen c1.cs [, c2.cs,...]</span><span class="sxs-lookup"><span data-stu-id="c3184-135">-source c1.cs [,c2.cs,...]</span></span>|<span data-ttu-id="c3184-136">El nombre de un archivo, proporcionado por el desarrollador de shell, que contiene cualquier código fuente necesario para compilar el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-136">The name of a file, provided by the shell developer, that contains any source code needed to build the shell.</span></span><br /><br /> <span data-ttu-id="c3184-137">El archivo de código fuente puede contener cualquiera del código fuente siguientes:</span><span class="sxs-lookup"><span data-stu-id="c3184-137">The source code file can contain any of the following source code:</span></span><br /><br /> <span data-ttu-id="c3184-138">-La implementación del Administrador de autorización que reemplaza el Administrador de autorización de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c3184-138">-   The Authorization manager implementation that overrides the default authorization manager.</span></span> <span data-ttu-id="c3184-139">(Esto podría también ser suministrado compila en un ensamblado.)</span><span class="sxs-lookup"><span data-stu-id="c3184-139">(This could also be supplied compiled into an assembly.)</span></span><br /><span data-ttu-id="c3184-140">: Las declaraciones de atributos informativos de ensamblado: como el AssemblyCompanyAttribute AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute, y AssemblyTrademarkAttribute.</span><span class="sxs-lookup"><span data-stu-id="c3184-140">-   Assembly informational attribute declarations: such as the AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute, and AssemblyTrademarkAttribute.</span></span>|
|<span data-ttu-id="c3184-141">-dicho administrador authorizationManagerType</span><span class="sxs-lookup"><span data-stu-id="c3184-141">-authorizationmanager authorizationManagerType</span></span>|<span data-ttu-id="c3184-142">El tipo que contiene la implementación del Administrador de autorización.</span><span class="sxs-lookup"><span data-stu-id="c3184-142">The type that contains the authorization manager implementation.</span></span> <span data-ttu-id="c3184-143">Esto se puede definir en el código fuente, o compila en un ensamblado (especificado por el `reference` parámetro).</span><span class="sxs-lookup"><span data-stu-id="c3184-143">This can be defined in source code, or compiled into an assembly (specified by the `reference` parameter).</span></span> <span data-ttu-id="c3184-144">Si no se especifica este parámetro, se utiliza el Administrador de seguridad predeterminado.</span><span class="sxs-lookup"><span data-stu-id="c3184-144">If this parameter is not specified, the default security manager is used.</span></span> <span data-ttu-id="c3184-145">El valor debe ser el nombre de tipo completo, incluidos los espacios de nombres.</span><span class="sxs-lookup"><span data-stu-id="c3184-145">The value should be the full type name, including namespaces.</span></span>|
|<span data-ttu-id="c3184-146">-win32icon i.ico</span><span class="sxs-lookup"><span data-stu-id="c3184-146">-win32icon i.ico</span></span>|<span data-ttu-id="c3184-147">El icono para el archivo .exe para el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-147">The icon for the .exe file for the shell.</span></span> <span data-ttu-id="c3184-148">Si no se especifica, el shell tendrá el icono que el compilador de c# incluye (si existe).</span><span class="sxs-lookup"><span data-stu-id="c3184-148">If not specified, then the shell will have the icon that the c# compiler includes (if any).</span></span>|
|<span data-ttu-id="c3184-149">-initscript p.ps1</span><span class="sxs-lookup"><span data-stu-id="c3184-149">-initscript p.ps1</span></span>|<span data-ttu-id="c3184-150">El perfil de inicio para el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-150">The startup profile for the shell.</span></span> <span data-ttu-id="c3184-151">Se incluye el archivo "como-es"; Asegúrese de shell, se realiza ninguna comprobación de validez.</span><span class="sxs-lookup"><span data-stu-id="c3184-151">The file is included "as-is"; no validity checking is done by Make-Shell.</span></span>|
|<span data-ttu-id="c3184-152">-s1.ps1[,s2.ps1 builtinscript,...]</span><span class="sxs-lookup"><span data-stu-id="c3184-152">-builtinscript s1.ps1[,s2.ps1,...]</span></span>|<span data-ttu-id="c3184-153">Una lista de secuencias de comandos integrados para el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-153">A list of built-in scripts for the shell.</span></span> <span data-ttu-id="c3184-154">Estos scripts se detectan antes de secuencias de comandos en la ruta de acceso y su contenido no se puede cambiar una vez que el shell se ha creado.</span><span class="sxs-lookup"><span data-stu-id="c3184-154">These scripts are discovered before scripts in the path, and their contents cannot be changed once the shell is built.</span></span><br /><br /> <span data-ttu-id="c3184-155">Los archivos se incluyen "como-es"; Asegúrese de shell, se realiza ninguna comprobación de validez.</span><span class="sxs-lookup"><span data-stu-id="c3184-155">The files are included "as-is"; no validity checking is done by Make-Shell.</span></span>|
|<span data-ttu-id="c3184-156">-recursos resourcefile.txt</span><span class="sxs-lookup"><span data-stu-id="c3184-156">-resource resourcefile.txt</span></span>|<span data-ttu-id="c3184-157">El archivo .txt que contiene los recursos de ayuda y de banner para el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-157">The .txt file containing help and banner resources for the shell.</span></span> <span data-ttu-id="c3184-158">El primer recurso denominado ShellHelp y contiene el texto que aparece si se invoca el comando de shell con el `help` parámetro.</span><span class="sxs-lookup"><span data-stu-id="c3184-158">The first resource is named ShellHelp, and contains the text displayed if the shell is invoked with the `help` parameter.</span></span> <span data-ttu-id="c3184-159">El segundo recurso se denomina ShellBanner y contiene el texto y la información de copyright muestra cuando el shell se inicia en modo interactivo.</span><span class="sxs-lookup"><span data-stu-id="c3184-159">The second resource is named ShellBanner, and it contains the text and copyright information displayed when the shell is launched in interactive mode.</span></span><br /><br /> <span data-ttu-id="c3184-160">Si no se proporciona este parámetro, o estos recursos no están presentes, se utilizan un ayuda genérico y banner.</span><span class="sxs-lookup"><span data-stu-id="c3184-160">If this parameter is not provided, or these resources are not present, then a generic help and banner are used.</span></span>|
|<span data-ttu-id="c3184-161">-cscflags cscFlags</span><span class="sxs-lookup"><span data-stu-id="c3184-161">-cscflags cscFlags</span></span>|<span data-ttu-id="c3184-162">Marcas que se deben pasar a la C# compilador (csc.exe).</span><span class="sxs-lookup"><span data-stu-id="c3184-162">Flags that should be passed to the C# compiler (csc.exe).</span></span> <span data-ttu-id="c3184-163">Estos se pasan a través sin cambios.</span><span class="sxs-lookup"><span data-stu-id="c3184-163">These are passed through unchanged.</span></span> <span data-ttu-id="c3184-164">Si este parámetro incluye espacios, debe ser entre comillas dobles.</span><span class="sxs-lookup"><span data-stu-id="c3184-164">If this parameter includes spaces, it should be surrounded in double-quotes.</span></span>|
|<span data-ttu-id="c3184-165">-?</span><span class="sxs-lookup"><span data-stu-id="c3184-165">-?</span></span><br /><br /> <span data-ttu-id="c3184-166">-Ayuda</span><span class="sxs-lookup"><span data-stu-id="c3184-166">-help</span></span>|<span data-ttu-id="c3184-167">Muestra el mensaje de copyright y opciones de línea de comandos de Shell de la marca.</span><span class="sxs-lookup"><span data-stu-id="c3184-167">Displays the copyright message and Make-Shell command line options.</span></span>|
|<span data-ttu-id="c3184-168">-verbose</span><span class="sxs-lookup"><span data-stu-id="c3184-168">-verbose</span></span>|<span data-ttu-id="c3184-169">Muestra información detallada mientras se crea el shell.</span><span class="sxs-lookup"><span data-stu-id="c3184-169">Displays detailed information while the shell is being created.</span></span>|

## <a name="see-also"></a><span data-ttu-id="c3184-170">Véase también</span><span class="sxs-lookup"><span data-stu-id="c3184-170">See Also</span></span>

[<span data-ttu-id="c3184-171">Guía del programador de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="c3184-171">Windows PowerShell Programmer's Guide</span></span>](./windows-powershell-programmer-s-guide.md)

[<span data-ttu-id="c3184-172">Windows PowerShell SDK</span><span class="sxs-lookup"><span data-stu-id="c3184-172">Windows PowerShell SDK</span></span>](../windows-powershell-reference.md)